(function(){"use strict";var e={5691:function(e,t,n){var l=n(9242),r=n(3396);function i(e,t,n,l,i,a){const u=(0,r.up)("RegExpress");return(0,r.wg)(),(0,r.j4)(u,{id:l.currentLevel.id,puzzle:l.currentLevel.puzzle,availableTiles:l.currentLevel.availableTiles,hasNextLevel:l.hasNextLevel,onNextLevel:l.nextLevel},null,8,["id","puzzle","availableTiles","hasNextLevel","onNextLevel"])}var a=n(7139);const u={class:"main"},s={class:"puzzle-tiles-section"},o=["onClick"],c={class:"staging-area border"},v={class:"actions"},d=["disabled"],g=["disabled"],p={key:0,class:"result"},z={key:1,class:"actions"};function h(e,t,n,l,i,h){const f=(0,r.up)("Puzzle");return(0,r.wg)(),(0,r.iD)("main",u,[(0,r._)("h1",null,"Reg Express - Level "+(0,a.zw)(n.id),1),(0,r.Uk)(" "+(0,a.zw)("1"==n.id?"Choose from the tiles below to craft your solution:":"")+" ",1),(0,r._)("section",s,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.remainingTiles,((t,n)=>((0,r.wg)(),(0,r.iD)("div",{class:"available puzzle-tile",key:n,onClick:n=>e.add(t)},(0,a.zw)(t),9,o)))),128))]),(0,r._)("section",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.solutionTiles,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"puzzle-tile",key:e.id},(0,a.zw)(e.char),1)))),128))]),(0,r._)("section",v,[(0,r._)("button",{type:"button",class:"go",onClick:t[0]||(t[0]=(...t)=>e.doPuzzle&&e.doPuzzle(...t)),disabled:e.currentIndex>-1}," Go ",8,d),(0,r._)("button",{type:"button",class:"reset",onClick:t[1]||(t[1]=(...t)=>e.restart&&e.restart(...t)),disabled:e.currentIndex>-1}," Reset ",8,g)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.puzzleSegments,(t=>((0,r.wg)(),(0,r.j4)(f,{key:t.id,puzzle:t.text,currentIndex:e.currentIndex,validSubstringLength:t.validSubstringLength},null,8,["puzzle","currentIndex","validSubstringLength"])))),128)),e.result?((0,r.wg)(),(0,r.iD)("section",p,(0,a.zw)(e.result),1)):(0,r.kq)("",!0),e.result?((0,r.wg)(),(0,r.iD)("section",z,[(0,r._)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.restart&&e.restart(...t))},"Restart"),n.hasNextLevel?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=t=>e.$emit("nextLevel"))}," Next Level ")):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])}var f=n(4870);const b={class:"border puzzle"};function x(e,t,n,l,i,u){return(0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",{class:(0,a.C_)(""+(n.currentIndex<0?"train":"placeholder"))},null,2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.puzzleTiles,(t=>((0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(`puzzle-tile ${e.indexHasTrain(t.id)?"train":""} ${t.highlight?`highlight-${t.highlight}`:""}`),key:t.id},(0,a.zw)(e.indexHasTrain(t.id)?"":t.char),3)))),128)),(0,r._)("div",{class:(0,a.C_)(""+(n.currentIndex>=e.puzzleTiles.length?"train":"finish"))},null,2)])}var w={name:"RegExpress",props:{currentIndex:Number,validSubstringLength:Number,puzzle:String},setup:e=>{let{currentIndex:t,puzzle:n,validSubstringLength:l}=(0,f.BK)(e);const i=(0,r.Fl)((()=>n.value.split("").map(((e,n)=>({char:e,id:n,highlight:a(n)?n==l.value?"red":"green":t.value>n&&l.value>n?"green":""})))));function a(e){return t.value==e?t.value<=l.value:t.value>=l.value&&l.value>0&&e==l.value}return{puzzleTiles:i,indexHasTrain:a}},methods:{}},m=n(89);const y=(0,m.Z)(w,[["render",x],["__scopeId","data-v-d2fc2ba6"]]);var T=y;const k=(e,t)=>{for(var n=1;n<=t.length;n++)if(!(n<t.length)||"+"!=t.substring(n-1,n)&&"*"!=t.substring(n-1,n)&&"}"!=t.substring(n-1,n))try{const l=new RegExp(`^${t.substring(0,n)}$`),r=l.test(e);if(r)return!0}catch(l){}return!1},L=(e,t)=>{try{for(var n=e.length;n>=0;n--)if(k(e.substring(0,n),t))return console.log("Checked",e,t,n),n;return 0}catch{return-1}};var _={name:"RegExpress",components:{Puzzle:T},props:{puzzle:[String,Array],availableTiles:Array,id:String,hasNextLevel:Boolean},setup:e=>{const t=(0,f.iH)(""),n=(0,f.iH)([]),l=(0,r.Fl)((()=>n.value.reduce(((e,t)=>e+t),"")));let{puzzle:i,availableTiles:a}=(0,f.BK)(e);const u=(0,f.iH)(-1),s=(0,f.iH)(a.value.map((e=>e))),o=(0,r.Fl)((()=>i.value[0].text?i.value.map(((e,t)=>({...e,id:t,validSubstringLength:L(e.text,l.value)}))):[{id:1,text:i.value,shouldMatch:!0,validSubstringLength:L(i.value,l.value)}])),c=(0,r.Fl)((()=>{try{return o.value.every((e=>{const t=new RegExp(`^${l.value}$`);return console.log("Did win? Checking",e.text,t),console.log("result was",t.test(e.text)),t.test(e.text)}))}catch{return!1}})),v=(0,r.Fl)((()=>o.value.reduce(((e,t)=>{var n=L(t.text,l.value);return n>e?n:e}),0))),d=(0,r.Fl)((()=>n.value.map(((e,t)=>({char:e,id:t})))));async function g(){console.log("longest was",v.value);for(var e=0;e<=v.value;e++)await new Promise((e=>setTimeout(e,300))),u.value=e;t.value=c.value?"ðŸŽ‰ You won!":v.value<0?"ðŸš¨ Invalid Solution!":"ðŸš« You lose!"}function p(e){const t=s.value.findIndex((t=>t==e));s.value=s.value.filter(((e,n)=>n!=t)),n.value.push(e)}function z(){s.value=a.value,u.value=-1,n.value=[],t.value=""}return(0,r.YP)(i,z),{add:p,doPuzzle:g,solutionTiles:d,result:t,currentIndex:u,remainingTiles:s,restart:z,puzzleSegments:o}},methods:{}};const I=(0,m.Z)(_,[["render",h],["__scopeId","data-v-7b04c886"]]);var C=I;const D=[{id:"1.1",puzzle:"train",availableTiles:["t","r","a","i","n"]},{id:"1.2",puzzle:"train",availableTiles:["t","r","a","i","[a-z]"]},{id:"1.3",puzzle:"terrain",availableTiles:["t","r","a","i","[a-z]","[a-z]","[a-z]"]},{id:"1.4",puzzle:"forgery",availableTiles:["f","r","o","y","[a-z]","[a-z]","{3}"]},{id:"2",puzzle:"banana",availableTiles:["b","[an]","a","{4}"]},{id:"3",puzzle:[{text:"taylor",shouldMatch:!0},{text:"trailer",shouldMatch:!1}],availableTiles:["t","a","+",".","o","r"]},{id:"3.1",puzzle:[{text:"wind",shouldMatch:!0},{text:"garden",shouldMatch:!0}],availableTiles:["[a-z]","[drain]","[a-z]","{2,4}"]}];function S(e){const t=document.location.href.split("level=")[1],n=e.find((e=>e.id==t));return n??e[0]}var H={name:"App",components:{RegExpress:C},data(){return{}},setup(){const e=(0,f.iH)(S(D));return{currentLevel:e,hasNextLevel:(0,r.Fl)((()=>D.findIndex((t=>t.id==e.value.id))<D.length-1)),nextLevel(){const t=D[D.findIndex((t=>t.id==e.value.id))+1].id;document.location.search=`?level=${t}`}}}};const N=(0,m.Z)(H,[["render",i]]);var O=N;(0,l.ri)(O).mount("#app")}},t={};function n(l){var r=t[l];if(void 0!==r)return r.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,l,r,i){if(!l){var a=1/0;for(c=0;c<e.length;c++){l=e[c][0],r=e[c][1],i=e[c][2];for(var u=!0,s=0;s<l.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](l[s])}))?l.splice(s--,1):(u=!1,i<a&&(a=i));if(u){e.splice(c--,1);var o=r();void 0!==o&&(t=o)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,i,a=l[0],u=l[1],s=l[2],o=0;if(a.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(s)var c=s(n)}for(t&&t(l);o<a.length;o++)i=a[o],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},l=self["webpackChunkreg_express"]=self["webpackChunkreg_express"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(5691)}));l=n.O(l)})();
//# sourceMappingURL=app.326ca502.js.map